! Title: Smalls' List - Annoyances - Microsoft
! Description: |
!   Filters for annoyances on Microsoft websites.
! Last modified: {{ LAST_UPDATED_TIMESTAMP }}
! Expires: 7 days
! Homepage: https://github.com/Smalls1652/smalls-filter-lists
! License: https://github.com/Smalls1652/smalls-filter-lists/blob/main/LICENSE

! ---
! Microsoft domains - *.microsoft.com
! ---

! Remove support chat and feedback buttons
!#if ext_ublock
! aglint-disable invalid-domain-list
/^.+?\.microsoft\.com$/##div:matches-attr("data-automation-id=\"feedback-button-widget\"")
/^.+?\.microsoft\.com$/###support-central-feedback-widget-container
/^.+?\.microsoft\.com$/###supportCentralContainer
/^.+?\.microsoft$/##.obf-ToastContainer
! aglint-enable invalid-domain-list
!#else
microsoft.com##div:matches-attr("data-automation-id=\"feedback-button-widget\"")
microsoft.com###support-central-feedback-widget-container
microsoft.com###supportCentralContainer
*.microsoft.com##div:matches-attr("data-automation-id=\"feedback-button-widget\"")
*.microsoft.com###support-central-feedback-widget-container
*.microsoft.com###supportCentralContainer
!#endif

! ---
! Azure Portal specific - portal.azure.com
! ---

! Remove waffle menu button
portal.azure.com##.fxs-cloud-menu-button:has(a#cloud-menu-button)

! Remove random survey
! ! Note:
! ! This *should* block it and no other toasts. Keyword: *should*.
portal.azure.com##.fxs-toast-content > .fxs-nps

! Remove Copilot button
portal.azure.com##.fxs-topbar-home.fxs-topbar-copilot

! Fix search bar placement
! ! Note:
! ! This is due to how they've positioned the search bar and
! ! the Copilot button together.  
portal.azure.com##.fxs-topbar-content > .fxs-topbar-search:remove-attr(style)

! ---
! Microsoft Intune specific - intune.microsoft.com
! ---

! Remove waffle menu button
intune.microsoft.com##.fxs-cloud-menu-button:has(a#cloud-menu-button)

! Remove random survey
! ! Note:
! ! This *should* block it and no other toasts. Keyword: *should*.
intune.microsoft.com##.fxs-toast-content > .fxs-nps
